{"version":3,"sources":["webpack:///./src/components/webwxgetmsgimg.jpeg","webpack:///./src/components/user/user.jpeg","webpack:///./src/App.vue?d1df","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/Login.vue","webpack:///./src/components/Login.vue?ee4c","webpack:///./src/components/Login.vue","webpack:///src/components/user/user-list.vue","webpack:///./src/components/user/user-list.vue?9e2b","webpack:///./src/components/user/user-list.vue","webpack:///src/components/user/add.vue","webpack:///./src/components/user/add.vue?a079","webpack:///./src/components/user/add.vue","webpack:///src/components/ChatList.vue","webpack:///./src/components/ChatList.vue?e540","webpack:///./src/components/ChatList.vue","webpack:///src/components/user/UserInfo.vue","webpack:///./src/components/user/UserInfo.vue?f818","webpack:///./src/components/user/UserInfo.vue","webpack:///src/components/user/user-send.vue","webpack:///./src/components/user/user-send.vue?28e5","webpack:///./src/components/user/user-send.vue","webpack:///./src/components/user/join.vue?d676","webpack:///./src/components/user/join.vue","webpack:///src/components/user/session.vue","webpack:///src/components/user/join.vue","webpack:///./src/components/user/session.vue?3a81","webpack:///./src/components/user/session.vue","webpack:///src/components/ChatInfo.vue","webpack:///./src/components/ChatInfo.vue?a390","webpack:///./src/components/ChatInfo.vue","webpack:///src/components/Index.vue","webpack:///./src/components/Index.vue?05ea","webpack:///./src/components/Index.vue","webpack:///./src/router/index.js","webpack:///./src/store/store.js","webpack:///./src/main.js"],"names":["module","exports","__webpack_require__","p","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","normalizeComponent","name","ssrContext","Login","data","msg","password","email","loginActive","methods","login","async","user","$store","dispatch","sessionStorage","setItem","JSON","stringify","commit","window","location","e","$message","error","registry","cancel","components_Login","_vm","staticClass","_v","placeholder","model","value","callback","$$v","expression","show-password","_e","on","click","type","src_components_Login","Login_normalizeComponent","user_list","users","state","upadteUser","isActive","currentUser","Name","refreshList","newData","friends","map","ID","SourceID","LastMessage","Content","LatetUpdate","CreateAt","UnRead","parseInt","created","mounted","pubsub_default","a","subscribe","topic","$notify","title","message","publish","Topic","Data","computed","getFriends","user_user_list","_l","key","class","active","$event","src","_s","components_user_user_list","user_list_normalizeComponent","add","inputEvent","searchUser","search","addFriend","closeModal","$emit","user_add","clearable","input","length","components_user_add","add_normalizeComponent","ChatList","url","addUserActive","logout","addUser","getSessionName","parse","getItem","components","userList","AddUSer","components_ChatList","_m","trigger","slot","icon","directives","rawName","closeme","src_components_ChatList","ChatList_normalizeComponent","UserInfo","messages","getPosition","refreshMessages","scrollToBottom","setTimeout","container","document","getElementsByClassName","scrollTop","scrollHeight","[object Object]","watch","getCurrentUser","newVal","oldValue","user_UserInfo","Create_At","item-right","components_user_UserInfo","UserInfo_normalizeComponent","user_send","sendMesage","Type","DestinationID","cleanInputMessage","user_user_send","autosize","minRows","maxRows","size","components_user_user_send","user_send_normalizeComponent","user_join","session","default","undefined","joinActive","joinGroup","closeJoin","Join","join_normalizeComponent","selectd","filter","checked","selectdLength","filterUsers","indexOf","user_session","ChatInfo","userSend","Session","session_normalizeComponent","userName","toggle","components_ChatInfo","Index","ChatInfo_normalizeComponent","components_Index","width","src_components_Index","Index_normalizeComponent","Vue","use","Router","router","routes","path","component","children","Vuex","store","Store","ws","mutations","updateSessionUser","payload","Object","assign","setCurrentUser","updateUses","createWs","WebSocket","onmessage","PubSub","onopen","console","log","actions","context","axios","post","getAllFriends","method","headers","userID","searchUsers","get","createGroup","group","deleteGroup","delete","groupID","getMessage","config","sendMessage","VueSession","persist","ElementUI","prototype","HOST","VueAxios","httpHeader","$session","productionTip","el","App","template"],"mappings":"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","file":"static/js/app.ff20859087a066a26f8a.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/webwxgetmsgimg.9882800.jpeg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/webwxgetmsgimg.jpeg\n// module id = 2EII\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/user.f0d7ba3.jpeg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/user.jpeg\n// module id = Hktm\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-29daef2e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-29daef2e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-29daef2e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n\t<div id=\"app\">\n\t\t<router-view/>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'App'\n}\n</script>\n\n<style>\n#app {\n\tfont-family: 'Avenir', Helvetica, Arial, sans-serif;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\ttext-align: center;\n\tcolor: #2c3e50;\n\n\tposition: absolute;\n    height: 100%;\n    width: 100%;\n\n\tpadding-top: 60px;\n    padding-bottom: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n    <div class=\"body\">\n        <div class=\"item\">\n            <label class=\"item-label\">请输入用户名</label>\n            <el-input v-model=\"name\" placeholder=\"请输入内容\"></el-input>\n        </div>\n        <div class=\"item\">\n            <label class=\"item-label\">请输入密码</label>\n            <el-input v-model=\"password\" placeholder=\"请输入内容\" show-password></el-input>\n        </div>\n        <div v-if=\"!loginActive\" class=\"item\"> \n            <label class=\"item-label\">请输入邮箱</label>\n            <el-input v-model=\"email\" placeholder=\"请输入内容\"></el-input>\n        </div>\n\n        <div v-if=\"loginActive\" class=\"item-foot\">\n            <el-button @click=\"login\">登录</el-button>\n            <el-button type=\"primary\" @click=\"registry\">注册</el-button>\n        </div>\n        <div v-if=\"!loginActive\" class=\"item-foot\">\n            <el-button type=\"primary\" @click=\"registry\">注册</el-button>\n            <el-button @click=\"cancel\">取消</el-button>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'Login',\n    data() {\n        return {\n            msg: 'this is login vue',\n            name: '',\n            password: '',\n            email: '',\n            loginActive: true,\n        }\n    },\n    methods: {\n        login: async function() {\n            try {\n                let value = await this.$store.dispatch('login', {\n                    name: this.name,\n                    password: this.password\n                })\n                \n                let user = value.data[0]\n                sessionStorage.setItem('user', JSON.stringify(user))\n\n                this.$store.commit('updateSessionUser', user)\n                this.$store.commit('createWs', user)\n\n                window.location = '/#/index'\n            } catch (e) {\n                this.$message.error('登录失败，请重新登录', e)\n            }\n        },\n        registry: function() {\n            if (this.loginActive) {\n                this.loginActive = false;\n                return;\n            }\n\n            try {\n                this.$store.dispatch( 'registry', {\n                    name: this.name,\n                    password: this.password,\n                    email: this.email\n                })\n                this.$message('注册成功，请重新登录')\n                this.loginActive = true;\n            } catch (e) {\n                this.$message.error('注册失败', e)\n            }\n        },\n        cancel: function() {\n            this.loginActive = true;\n        }\n    }\n}\n</script>\n\n<style scoped>\n.body {\n    width: 50%;\n    margin-left: 25%;\n}\n\n.item {\n    margin-top: 10px;\n}\n\n.item-label {\n    float: left;\n    margin-bottom: 10px;\n}\n\n.item-foot {\n    margin-top: 10px;\n    display: flex;\n    justify-content: space-around;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"body\"},[_c('div',{staticClass:\"item\"},[_c('label',{staticClass:\"item-label\"},[_vm._v(\"请输入用户名\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('label',{staticClass:\"item-label\"},[_vm._v(\"请输入密码\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"show-password\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_vm._v(\" \"),(!_vm.loginActive)?_c('div',{staticClass:\"item\"},[_c('label',{staticClass:\"item-label\"},[_vm._v(\"请输入邮箱\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.loginActive)?_c('div',{staticClass:\"item-foot\"},[_c('el-button',{on:{\"click\":_vm.login}},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.registry}},[_vm._v(\"注册\")])],1):_vm._e(),_vm._v(\" \"),(!_vm.loginActive)?_c('div',{staticClass:\"item-foot\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.registry}},[_vm._v(\"注册\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")])],1):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-41f5607e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-41f5607e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-41f5607e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-41f5607e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Login.vue\n// module id = null\n// module chunks = ","<template>\n    <div>\n        <template v-for=\"user of getFriends\">\n            <div :key=\"user.ID\" :class=\"{'active': isActive(user)}\"  @click=\"upadteUser(user)\" class=\"user-item\">\n                <div class=\"item-left\">\n                    <el-badge :value=\"user.UnRead\" class=\"item\">\n                        <img class=\"img\" src=\"./user.jpeg\">\n                    </el-badge>\n                </div>\n                <div class=\"item-right\">\n                    <div class=\"title\"> \n                        <div> {{user.Name}} </div>\n                    </div>\n                    <div class=\"content\">{{user.LastMessage}}</div>\n                </div>\n            </div>\n        </template>\n    </div>\n</template>\n\n<script>\nimport PubSub from 'pubsub-js'\n\nexport default {\n    name: 'userList',\n\n    data: function() {\n        return {\n            users: this.$store.state.users\n        }\n    },\n\n    methods: {\n        upadteUser: function(user) {\n            this.$store.commit('setCurrentUser', user)\n        },\n\n        isActive: function(user) {\n            return this.$store.state.currentUser.Name === user.Name;\n        },\n\n        refreshList: async function(newData) {\n            let friends = (await this.$store.dispatch('getAllFriends')).data[0]\n            if (newData) {\n                friends.map(user => {\n                    if (user.ID === newData.SourceID) {\n                        user.LastMessage = newData.Content\n                        user.LatetUpdate = newData.CreateAt\n\n                        if (!user.UnRead) {\n                            user.UnRead = 0;\n                        } else {\n                            user.UnRead = parseInt(user.UnRead) + 1;\n                        }\n                    }\n                })\n            }\n            this.users = friends\n        }\n    },\n\n    created: async function() {\n        let friends = (await this.$store.dispatch('getAllFriends')).data[0]\n        this.$store.commit('setCurrentUser', friends[0])\n        this.$store.commit('updateUses', friends)\n    },\n\n    mounted: function() {\n        PubSub.subscribe('refreshList', (topic, data) => {\n            this.$notify({\n                title: '来自用户ＩＤ为' + data.SourceID + '的消息',\n                message: data.Content,\n                type: 'success'\n            });\n            \n            if (data.SourceID === this.$store.state.currentUser.ID) {\n                PubSub.publish('messageSend', {\n                    'Topic': topic,\n                    'Data': data\n                })\n            }\n            this.refreshList(data)\n        })\n\n        PubSub.subscribe('addUser', ()=> {\n            this.refreshList()\n        })\n    },\n\n    computed: {\n        getFriends: function() {\n            return this.users\n        }\n    }\n}\n</script>\n\n<style scoped>\n.user-item {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 10px 20px 10px 20px;\n    border-bottom: 1px solid;\n}\n\n.active {\n    background-color: gainsboro;\n}\n\n.item-left {\n    display: inline-flex;\n}\n\n.item-left img {\n    height: 40px;\n    width: 40px;\n}\n\n.item-right {\n    display: inline-flex;\n    flex-direction: column\n}\n\n.item-right .title {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/user/user-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._l((_vm.getFriends),function(user){return [_c('div',{key:user.ID,staticClass:\"user-item\",class:{'active': _vm.isActive(user)},on:{\"click\":function($event){return _vm.upadteUser(user)}}},[_c('div',{staticClass:\"item-left\"},[_c('el-badge',{staticClass:\"item\",attrs:{\"value\":user.UnRead}},[_c('img',{staticClass:\"img\",attrs:{\"src\":require(\"./user.jpeg\")}})])],1),_vm._v(\" \"),_c('div',{staticClass:\"item-right\"},[_c('div',{staticClass:\"title\"},[_c('div',[_vm._v(\" \"+_vm._s(user.Name)+\" \")])]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_vm._v(_vm._s(user.LastMessage))])])])]})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-684eb708\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/user-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-684eb708\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./user-list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./user-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./user-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-684eb708\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./user-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-684eb708\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/user-list.vue\n// module id = null\n// module chunks = ","<template>\n    <div class=\"modal-box\">\n        <div class=\"modal-header\">\n            <div>添加用户</div>\n            <div class=\"el-icon-close\" @click=\"closeModal\"></div>\n        </div>\n        <el-input placeholder=\"请输入内容\"\n            v-model=\"value\"\n            v-on:input=\"inputEvent\"\n            clearable>\n        </el-input>\n        <div class=\"modal-item\">\n            <template v-for=\"user of users\">\n                <div class=\"user-list\" :key=\"user.ID\">\n                    <div>{{ user.Name }}</div>\n                    <el-button type=\"primary\" @click=\"addFriend(user)\">添加好友</el-button>\n                </div>\n            </template>\n            <div v-if=\"!users.length\">暂无查询结果</div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport PubSub from 'pubsub-js'\n\nexport default {\n    name: 'AddUSer',\n    data: function() {\n        return {\n            value: '',\n            users: [],\n        }\n    },\n    methods: {\n        inputEvent: async function() {\n            if (this.value !== '') {\n                await this.searchUser()\n            } else {\n                this.users = []\n            }\n        },\n        searchUser: async function() {\n            try {\n                this.users = (await this.$store.dispatch('searchUsers', {\n                    search: this.value\n                })).data;\n            } catch (e) {\n                this.users = []\n            }\n        },\n        addFriend: async function(user) {\n            await this.$store.dispatch('addFriend', user.ID)\n            PubSub.publish('addUser');\n            this.closeModal()\n        },\n        closeModal: function() {\n            this.$emit(\"closeme\"); \n        }\n    }\n}\n</script>\n\n<style scoped>\n.modal-box {\n    width: 50%;\n    max-height: 50%;\n    position: fixed;\n    top: 100px;\n    background-color:white;\n    border: 1px solid;\n    padding: 20px 20px;\n}\n\n.modal-header {\n    padding: 10px 20px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n\n.modal-item {\n    max-height: 150px;\n    padding: 20px 20px;\n    overflow-y: auto;\n}\n\n.user-list {\n    display: flex;\n    justify-content: space-between;\n    padding: 5px 20px;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/user/add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-box\"},[_c('div',{staticClass:\"modal-header\"},[_c('div',[_vm._v(\"添加用户\")]),_vm._v(\" \"),_c('div',{staticClass:\"el-icon-close\",on:{\"click\":_vm.closeModal}})]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},on:{\"input\":_vm.inputEvent},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_vm._v(\" \"),_c('div',{staticClass:\"modal-item\"},[_vm._l((_vm.users),function(user){return [_c('div',{key:user.ID,staticClass:\"user-list\"},[_c('div',[_vm._v(_vm._s(user.Name))]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addFriend(user)}}},[_vm._v(\"添加好友\")])],1)]}),_vm._v(\" \"),(!_vm.users.length)?_c('div',[_vm._v(\"暂无查询结果\")]):_vm._e()],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1ef04465\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/add.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1ef04465\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./add.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1ef04465\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1ef04465\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/add.vue\n// module id = null\n// module chunks = ","<template>\n    <div class=\"list-body\">\n        <div class=\"header\">\n            <div class=\"icon\">\n                <img class=\"img\" src=\"./webwxgetmsgimg.jpeg\">\n            </div>\n            <div class=\"action\">\n                <el-dropdown trigger=\"click\">\n                    <span class=\"el-dropdown-link\">\n                        <i class=\"el-icon-arrow-down el-icon--right\"></i>\n                    </span>\n\n                    <span> {{ getSessionName }}</span>\n                    <button @click=\"addUser\">add</button>\n                    <el-dropdown-menu slot=\"dropdown\">\n                        <el-dropdown-item icon=\"el-icon-plus\" @click=\"logout\">logout</el-dropdown-item>\n                        <el-dropdown-item icon=\"el-icon-plus\" @click=\"addUser\">add user</el-dropdown-item>\n                    </el-dropdown-menu>\n                </el-dropdown>\n            </div>\n        </div>\n        <AddUSer v-show=\"addUserActive\" v-on:closeme=\"addUser\"></AddUSer>\n        <div class=\"body\">\n            <userList></userList>\n        </div>\n    </div>\n</template>\n\n<script>\nimport userList from './user/user-list.vue'\nimport AddUSer from './user/add.vue'\n\nexport default {\n    name: 'ChatList',\n\n    data: function() {\n        return {\n            url: \"./webwxgetmsgimg.jpeg\",\n            addUserActive: false\n        }\n    },\n\n    methods: {\n        logout: function() {\n            window.location = '/#/';\n        },\n\n        addUser: function() {\n            this.addUserActive = !this.addUserActive\n        }\n    },\n\n    computed: {\n        getSessionName: function() {\n            return JSON.parse(sessionStorage.getItem('user')).Name\n        }\n    },\n\n    components: {\n        userList,\n        AddUSer\n    }\n}\n</script>\n\n<style scoped>\n.list-body {\n}\n\n.header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 5px;\n    border-bottom: 1px solid;\n}\n\n.header .icon img {\n    height: 40px;\n    width: 40px;\n}\n\n.body {\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/ChatList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list-body\"},[_c('div',{staticClass:\"header\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"action\"},[_c('el-dropdown',{attrs:{\"trigger\":\"click\"}},[_c('span',{staticClass:\"el-dropdown-link\"},[_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_vm._v(\" \"),_c('span',[_vm._v(\" \"+_vm._s(_vm.getSessionName))]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.addUser}},[_vm._v(\"add\")]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.logout}},[_vm._v(\"logout\")]),_vm._v(\" \"),_c('el-dropdown-item',{attrs:{\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.addUser}},[_vm._v(\"add user\")])],1)],1)],1)]),_vm._v(\" \"),_c('AddUSer',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.addUserActive),expression:\"addUserActive\"}],on:{\"closeme\":_vm.addUser}}),_vm._v(\" \"),_c('div',{staticClass:\"body\"},[_c('userList')],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"icon\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":require(\"./webwxgetmsgimg.jpeg\")}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1753b12f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ChatList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1753b12f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ChatList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChatList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChatList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1753b12f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ChatList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1753b12f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ChatList.vue\n// module id = null\n// module chunks = ","<template :key=\"this.$store.state.currentUser.ID\">\n    <div class=\"listBody\">\n        <template v-for=\"message of messages\">\n            <div class=\"item-default\" v-bind:class=\"{'item-right': getPosition(message)}\" v-bind:key=\"message.Create_At\">\n                <div class=\"message-item\">\n                    <div>\n                        <el-avatar src=\"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png\"></el-avatar>\n                    </div>\n                    <div>{{ message.Content }}</div>\n                </div>\n            </div>\n        </template>\n        <div v-if=\"!messages.length\" class=\"empty-message\">no message to show</div>\n    </div>\n</template>\n\n<script>\nimport PubSub from 'pubsub-js'\n\nexport default {\n    name: 'UserInfo',\n    data: function() {\n        return {\n            messages: [],\n            user: JSON.parse(sessionStorage.getItem('user'))\n        }\n    },\n    methods: {\n        getPosition: function(msg) {\n            return msg.SourceID === this.user.ID\n        },\n\n        refreshMessages: async function() {\n            if (this.$store.state.currentUser && this.$store.state.currentUser.ID) {\n                this.messages = (await this.$store.dispatch('getMessage', this.$store.state.currentUser.ID)).data[0]\n                if (!this.messages) {\n                    this.messages = []\n                }\n            }\n        },\n\n        scrollToBottom: function() {\n            setTimeout(() => {\n                let container = document.getElementsByClassName('listBody')[0]\n                container.scrollTop = container.scrollHeight;\n            }, 0)\n        },\n    },\n\n    computed: {\n        getCurrentUser() {\n            return this.$store.state.currentUser\n        }\n    },\n\n    watch: {\n        getCurrentUser: async function(newVal, oldValue) {\n            await this.refreshMessages();\n            this.scrollToBottom()\n        }\n    },\n\n    mounted: function() {\n        PubSub.subscribe('messageSend', this.refreshMessages)\n        this.scrollToBottom()\n    }\n}\n</script>\n\n<style scoped>\n.empty-message {\n    align-content: center;\n}\n\n.item-default {\n    display: flex;\n}\n\n.item-right {\n    flex-direction: row-reverse;\n}\n\n.message-item {\n    font-size: 12px;\n    padding: 2px 10px;\n    display: flex;\n    align-items: center;\n    margin-top: 10px;\n    background-color: aliceblue;\n    border-radius: 15px;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/user/UserInfo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"listBody\"},[_vm._l((_vm.messages),function(message){return [_c('div',{key:message.Create_At,staticClass:\"item-default\",class:{'item-right': _vm.getPosition(message)}},[_c('div',{staticClass:\"message-item\"},[_c('div',[_c('el-avatar',{attrs:{\"src\":\"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png\"}})],1),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(message.Content))])])])]}),_vm._v(\" \"),(!_vm.messages.length)?_c('div',{staticClass:\"empty-message\"},[_vm._v(\"no message to show\")]):_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-79af59ca\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/UserInfo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-79af59ca\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UserInfo.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserInfo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserInfo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-79af59ca\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./UserInfo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-79af59ca\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/UserInfo.vue\n// module id = null\n// module chunks = ","<template>\n    <div>\n        <!-- 输入框具体的操作，包括发送表情，截图，文件选择等 -->\n        <div class=\"message-action\"></div>\n        <div class=\"message-content\">\n            <el-input type=\"textarea\" :autosize=\"{ minRows: 2, maxRows: 4}\" v-model=\"value\"></el-input>\n        </div>\n        <div class=\"message-send\">\n            <el-button size=\"mini\" @click=\"sendMesage\">sendMessage</el-button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport PubSub from 'pubsub-js'\nexport default {\n    name: 'userSend',\n    data:function() {\n        return {\n            value: '',\n        }\n    },\n    methods: {\n        sendMesage: function() {\n            this.$store.dispatch('sendMessage', {\n                Type: 0,\n                SourceID: JSON.parse(sessionStorage.getItem('user')).ID,\n                DestinationID: this.$store.state.currentUser.ID,\n                Content: this.value\n            })\n\n            PubSub.publish('messageSend', this.value)\n            this.cleanInputMessage();\n        },\n        cleanInputMessage: function() {\n            this.value = '';\n        }\n    }\n}\n</script>\n\n\n<style scoped>\n.message-action .textarea  {\n    border: none;\n}\n.message-send {\n    display: flex;\n    flex-direction: row-reverse;\n}\n\n.el-textarea__inner {\n    border: none;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/user/user-send.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"message-action\"}),_vm._v(\" \"),_c('div',{staticClass:\"message-content\"},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 2, maxRows: 4}},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"message-send\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.sendMesage}},[_vm._v(\"sendMessage\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d40ad86a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/user-send.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d40ad86a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./user-send.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./user-send.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./user-send.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d40ad86a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./user-send.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d40ad86a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/user-send.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"join-body\"},[_c('div',{staticClass:\"header\"}),_vm._v(\" \"),_c('div',{staticClass:\"body\"},[_c('div',{staticClass:\"selected\"},[_vm._l((_vm.selectd),function(user){return [_c('div',{key:user},[_vm._v(_vm._s(user.Name))])]})],2),_vm._v(\" \"),_c('div',{staticClass:\"search\"},[_c('el-input',{model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"list\"},[_vm._l((_vm.filterUsers),function(user){return [_c('div',{key:user},[_vm._v(_vm._s(user.Name))])]})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"footer\"})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7e6d20ed\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/join.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7e6d20ed\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./join.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./join.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./join.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7e6d20ed\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./join.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7e6d20ed\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/join.vue\n// module id = null\n// module chunks = ","<template>\n    <div class=\"session-body\">\n        <div class=\"session-item\" @click=\"joinGroup\">+</div>\n        <template v-for=\"user of users\">\n            <div :key=\"user.Name\" class=\"session-item\">{{ user.Name }}</div>\n        </template>\n        <Join v-show=\"joinActive\" v-on:closeme=\"closeJoin\"></Join>\n    </div>\n</template>\n\n<script>\nimport Join from './join.vue'\n\nexport default {\n    name: 'Session',\n    data: function() {\n        return {\n            default: undefined,\n            users: [{Name: 1}, {Name: 2}, {Name: 3}],\n            joinActive: false\n        }\n    },\n    methods: {\n        joinGroup: function() {\n            this.joinActive = true\n        },\n\n        closeJoin: function() {\n\n        }\n    },\n    components: {\n        Join\n    }\n}\n</script>\n\n<style scoped>\n.session-body {\n    position: absolute;\n    width: calc(60% - 130px);\n    top: 120px;\n    display: flex;\n    padding: 10px 10px;\n    \n    background-color: white;\n    z-index: 10;\n    border: 1px solid;\n}\n\n.session-item {\n    width: 60px;\n    height: 60px;\n    border: 1px solid red;\n    margin-right: 10px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/user/session.vue","<template>\n    <div class=\"join-body\">\n        <div class=\"header\"></div>\n        <div class=\"body\">\n            <div class=\"selected\">\n                <template v-for=\"user of selectd\">\n                    <div :key=\"user\">{{ user.Name }}</div>\n                </template>     \n            </div>\n\n            <div class=\"search\">\n                <el-input v-model=\"search\"></el-input>\n            </div>\n\n            <div class=\"list\">\n                <template v-for=\"user of filterUsers\">\n                    <div :key=\"user\">{{ user.Name }}</div>\n                </template>  \n            </div>\n        </div>\n        <div class=\"footer\"></div>\n    </div>    \n</template>\n\n<script>\nexport default {\n    name: 'Join',\n    data: function() {\n        return {\n            users: [{Name: \"A\", Name: \"B\", Name: \"C\", Name: \"D\"}],\n            search: '',\n        }\n    },\n    computed: {\n        selectd: function() {\n            return this.users.filter(user => {\n                return user.checked\n            })\n        },\n        selectdLength: function() {\n            return this.selectd.length\n        },\n        filterUsers: function() {\n            return this.users.filter(user => {\n                return user.Name.indexOf(this.search)\n            })\n        }\n    }\n}\n</script>\n\n<style scoped>\n.join-body {\n    position: absolute;\n    border: 1px solid red;\n    width: 100%;\n    height: 100%;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/user/join.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"session-body\"},[_c('div',{staticClass:\"session-item\",on:{\"click\":_vm.joinGroup}},[_vm._v(\"+\")]),_vm._v(\" \"),_vm._l((_vm.users),function(user){return [_c('div',{key:user.Name,staticClass:\"session-item\"},[_vm._v(_vm._s(user.Name))])]}),_vm._v(\" \"),_c('Join',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.joinActive),expression:\"joinActive\"}],on:{\"closeme\":_vm.closeJoin}})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-558b662a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/session.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-558b662a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./session.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./session.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./session.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-558b662a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./session.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-558b662a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/session.vue\n// module id = null\n// module chunks = ","<template>\n    <div class=\"body\">\n        <el-header>\n            {{ userName }}\n            <span class=\"el-dropdown-link\" @click=\"toggle\">\n                <i class=\"el-icon-arrow-down el-icon--right\"></i>\n            </span>\n            <Session v-show=\"active\"></Session>\n        </el-header>\n        <el-main>\n            <UserInfo></UserInfo>\n        </el-main>\n        <el-footer>\n            <userSend></userSend>\n        </el-footer>\n    </div>\n</template>\n\n<script>\nimport UserInfo from './user/UserInfo.vue'\nimport userSend from './user/user-send.vue'\nimport Session from './user/session.vue'\n\nexport default {\n\tname: 'ChatInfo',\n\tcomponents: {\n\t\tUserInfo,\n        userSend,\n        Session\n    },\n    computed: {\n        userName: function() {\n            return this.$store.state.currentUser ? this.$store.state.currentUser.Name : 'default'\n        }\n    },\n    data: function() {\n        return {\n            active: false\n        }\n    },\n    methods: {\n        toggle: function() {\n            this.active = !this.active\n        }\n    }\n}\n</script>\n\n<style scoped>\n.body {\n    height: 100%;\n    width: 100%;\n    padding: 0;\n    margin-left: 0;\n    border-left: 1px solid;\n}\n.el-header {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-bottom: 1px solid;\n}\n\n.el-main {\n    padding: 0;\n    height: calc(100% - 142px);\n    overflow: auto;\n    border-bottom: 1px solid;\n}\n\n.el-footer {\n    padding: 0;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/ChatInfo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"body\"},[_c('el-header',[_vm._v(\"\\n        \"+_vm._s(_vm.userName)+\"\\n        \"),_c('span',{staticClass:\"el-dropdown-link\",on:{\"click\":_vm.toggle}},[_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_vm._v(\" \"),_c('Session',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.active),expression:\"active\"}]})],1),_vm._v(\" \"),_c('el-main',[_c('UserInfo')],1),_vm._v(\" \"),_c('el-footer',[_c('userSend')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e9dc62fe\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ChatInfo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e9dc62fe\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ChatInfo.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChatInfo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChatInfo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e9dc62fe\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ChatInfo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e9dc62fe\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ChatInfo.vue\n// module id = null\n// module chunks = ","<template>\n    <div class=\"body\">\n        <el-container>\n            <el-aside width=\"300px\">\n                <ChatList></ChatList>\n            </el-aside>\n            <el-main>\n                <ChatInfo></ChatInfo>\n            </el-main>\n        </el-container>\n    </div>\n</template>\n\n<script>\nimport ChatList from '@/components/ChatList'\nimport ChatInfo from '@/components/ChatInfo'\n\nexport default {\n    name: 'Index',\n    data() {\n        return {\n            msg: 'this is index vue'\n        }\n    },\n    components: {\n        ChatList,\n        ChatInfo\n    }\n}\n</script>\n\n<style scoped>\n.body {\n    width: 70%;\n    margin-left: 15%;\n    height: 100%;\n}\n\n.el-container {\n    height: 85%;\n    border: 1px solid;\n}\n\n.el-aside {\n}\n\n.el-main {\n    padding: 0;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"body\"},[_c('el-container',[_c('el-aside',{attrs:{\"width\":\"300px\"}},[_c('ChatList')],1),_vm._v(\" \"),_c('el-main',[_c('ChatInfo')],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-69072b4a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-69072b4a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Index.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-69072b4a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-69072b4a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Index.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\n\nimport Login from '@/components/Login'\nimport Index from '@/components/Index'\nimport AddUSer from '@/components/user/add'\n\nVue.use(Router)\n\nexport default new Router({\n\troutes: [\n\t{\n\t\tpath: '/',\n\t\tname: 'Login',\n\t\tcomponent: Login\n\t},\n\t{\n\t\tpath: '/index',\n\t\tname: 'Index',\n\t\tcomponent: Index,\n\t\tchildren: [{\n\t\t\tpath: '/add-user',\n\t\t\tname: 'AddUSer',\n\t\t\tcomponent: AddUSer\n\t\t}]\n\t},\n\t]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex);\n\nimport PubSub from 'pubsub-js'\n\nexport default new Vuex.Store({\n\tstate: {\n        user: {},\n        users: [],\n        currentUser: {},\n        active: false,\n        ws: {},\n    },\n    \n\tmutations: {\n        updateSessionUser: function({commit},  payload) {\n            this.state.user = Object.assign({}, payload)\n        },\n\n        setCurrentUser: function({commit}, payload) {\n            if (payload.ID !== this.state.currentUser.ID) {\n                this.state.currentUser = Object.assign({}, payload)\n            }\n        },\n\n        updateUses: function({commit}, payload) {\n            this.state.users = payload\n        },\n\n        createWs: function({commit}, payload) {\n            this.state.ws = new WebSocket(\"ws://localhost:9999/event?id=\" + payload.ID);\n            \n            this.state.ws.onmessage = function(msg) {\n                PubSub.publish('refreshList', JSON.parse(msg.data))\n            }\n            \n            this.state.ws.onopen = function() {\n                console.log(\"open websocket\")\n            }\n        }\n    },\n    \n    actions: {\n        login: async function({context}, payload) {\n            return Vue.axios.post('/api/login', Object.assign({}, payload))\n        },\n\n        registry: async function({context}, payload) {\n            return Vue.axios.post('/api/registry', Object.assign({}, payload))\n        },\n\n        getAllFriends: async function() {\n            let user = JSON.parse(sessionStorage.getItem('user'))\n            return Vue.axios({\n                method: 'get',\n                url: '/api/friends',\n                headers: {\n                    'userID': user.ID\n                }\n            })\n        },\n\n        searchUsers: async function({context}, payload) {\n            return Vue.axios.get('/api/search/users/' + payload.search)\n        },\n\n        addFriend: async function({context}, payload) {\n            let user = JSON.parse(sessionStorage.getItem('user'))\n            return Vue.axios({\n                method: 'post',\n                url: '/api/friends/' + payload,\n                headers: {\n                    'userID': user.ID\n                }\n            })\n        },\n\n        createGroup: function({context}, payload) {\n            return Vue.axios.post('/api/create-group', payload.group)\n        },\n\n        deleteGroup: function({context}, payload) {\n            return Vue.axios.delete('/api/delete-group/' + payload.groupID)\n        },\n\n        getMessage: async function({context}, payload) {\n            let user = JSON.parse(sessionStorage.getItem('user'))\n            let config = {\n                headers: {\n                    'userID': user.ID,\n                }\n            }\n            return Vue.axios.get('/api/messages/' + payload, config)\n        },\n\n        sendMessage: async function({context}, payload) {\n            let user = JSON.parse(sessionStorage.getItem('user'))\n\n            let config = {\n                headers: {\n                    'userID': user.ID,\n                }\n            }\n            return Vue.axios.post('/api/sendMessage', payload, config)\n        }\n    }\n})\n\n\n// WEBPACK FOOTER //\n// ./src/store/store.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nimport axios from 'axios'\nimport VueAxios from 'vue-axios'\n\nimport router from './router'\nimport ElementUI from 'element-ui';\nimport store from './store/store'\n\nimport VueSession from 'vue-session'\n\nVue.use(VueSession, {\n    persist: true\n})\n\nVue.use(ElementUI);\n\nVue.prototype.HOST = '/api'\n\nVue.use(VueAxios, axios);\n\nVue.prototype.httpHeader = function() {\n    return {\n        'userID': JSON.parse(this.$session.get('user')).ID\n    }\n}\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n    el: '#app',\n    store,\n    router,\n    components: { App },\n    template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}